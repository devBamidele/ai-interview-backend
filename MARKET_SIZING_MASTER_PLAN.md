# Market Sizing Case Interview Coach - Master Implementation Plan

**Goal:** Transform the generic interview practice app into a specialized **Market Sizing Case Interview Coach** for consulting students.

**Target User:** Consulting students preparing for MBB (McKinsey, BCG, Bain) interviews who need to practice market sizing cases with realistic AI feedback.

---

## Table of Contents
1. [Research-Backed Evaluation Criteria](#research-backed-evaluation-criteria)
2. [System Component Responsibilities](#system-component-responsibilities)
3. [Master Implementation Plan](#master-implementation-plan)
4. [Data Flow Changes](#data-flow-changes)
5. [Question Bank Strategy](#question-bank-strategy)
6. [Success Metrics](#success-metrics)

---

## Research-Backed Evaluation Criteria

### What MBB Firms Actually Evaluate

Based on research from consulting preparation resources and actual MBB interview feedback, firms evaluate market sizing cases across **5 core dimensions**, NOT 6 as originally planned:

#### 1. Structured Thinking (Most Critical)
**What MBB looks for:**
- Ability to break down complex problems into manageable components
- Use of logical frameworks (top-down, bottom-up, or hybrid)
- MECE principle (Mutually Exclusive, Collectively Exhaustive)
- Quick structuring ability (within 1-2 minutes)

**What students struggle with:**
- Jumping straight into calculations without organizing thoughts
- Creating overly complex formulas that capture every variable
- Being too simplistic and missing important drivers
- Most candidates fail during the clarification phase

**How to evaluate:** Look for explicit framework articulation ("I'll use a top-down approach"), clear segmentation, and logical flow.

#### 2. Assumption Quality & Business Judgment
**What MBB looks for:**
- Reasonable assumptions based on real-world knowledge
- Clearly stated and justified assumptions
- Commercially sound thinking
- Practical, implementable insights

**What students struggle with:**
- Making overly broad assumptions
- Neglecting key variables
- Not articulating assumptions out loud
- Failing to justify why an assumption is reasonable

**How to evaluate:** Assess whether assumptions are explicitly stated, justified with reasoning, and fall within realistic ranges.

#### 3. Quantitative Skills & Math Accuracy
**What MBB looks for:**
- Quick and accurate mental math
- Step-by-step calculation verbalization
- Ability to handle calculations under pressure
- Showing intermediate steps

**What students struggle with:**
- Making calculation errors under time pressure
- Going silent during calculations (interviewer can't follow)
- Not showing their work step-by-step
- Rushing through math without verification

**How to evaluate:** Track whether calculations are shown step-by-step, verbalized clearly, and mathematically correct.

#### 4. Communication & Articulation
**What MBB looks for:**
- Clear, organized explanations
- Guiding interviewer through thought process
- Moderate pacing (not too fast or mumbled)
- Confident delivery without excessive fillers

**What students struggle with:**
- Mumbled or disorganized explanations
- Going silent during thinking
- Excessive "um," "like," "you know"
- Not maintaining conversational flow

**How to evaluate:** Analyze speech metrics (pace, fillers, pauses) and clarity of verbal explanation.

#### 5. Sanity Check & Answer Validation
**What MBB looks for:**
- Validates final answer against common sense
- Articulates sanity check reasoning out loud
- Catches obviously wrong answers
- Shows commercial awareness

**What students struggle with:**
- Skipping sanity check entirely
- Not verbalizing the sanity check process
- Missing obviously unreasonable answers
- Not comparing to known benchmarks

**How to evaluate:** Check if candidate explicitly performs a reality check and verbalizes their reasoning.

---

### What Students Actually Need to Practice

Based on research, consulting students preparing for MBB interviews need practice in these specific areas:

#### Critical Practice Areas (Ranked by Importance)

1. **Clarifying Questions (Highest Failure Point)**
   - Most candidates fail during the clarification phase
   - Need to ask about product specifications, customer segments, geographic scope
   - Practice: Force candidates to ask clarifying questions before structuring

2. **Structuring Quickly Under Pressure**
   - Must structure approach within 1-2 minutes
   - Balance simplicity with completeness
   - Practice: Timed structuring exercises

3. **Verbalizing Thinking Process**
   - Cannot go silent during calculations
   - Must articulate assumptions as they're made
   - Practice: Think-aloud protocol during entire case

4. **Mental Math Speed & Accuracy**
   - Fractions, percentages, multiplication with large numbers
   - Must be fast AND accurate
   - Practice: Daily mental math drills

5. **Making Realistic Assumptions**
   - Assumptions must be justifiable and reasonable
   - Need real-world knowledge (population, consumption patterns, etc.)
   - Practice: Building a "numbers database" (US population, household income, etc.)

6. **MECE Segmentation**
   - Breaking down markets without overlap or gaps
   - Critical for framework quality
   - Practice: Segmentation exercises across different industries

7. **Sanity Checking Out Loud**
   - Must verbalize the reality check
   - Compare to known benchmarks
   - Practice: Forced sanity checks on every estimate

#### Practice Volume Requirements

Research shows successful MBB candidates:
- Complete **50-100 hours** of practice
- Do **50+ live practice cases** with partners
- Practice **25+ times** with feedback before interviews
- Turn daily activities into practice (estimate anything you see)

#### Common Mistakes to Address in Practice

1. **Structural Issues:**
   - Jumping into calculations without framework
   - Overly complex formulas
   - Missing key variables

2. **Communication Failures:**
   - Going silent during calculations
   - Mumbling or rushing
   - Not explaining reasoning

3. **Wrong Focus:**
   - Fixating on getting exact right answer
   - Not showing work process
   - Skipping assumption articulation

4. **Calculation Errors:**
   - Simple math mistakes under pressure
   - Not catching errors through sanity checks
   - Not showing intermediate steps

---

### Framework Philosophy: What Actually Works

Based on reviews of "Case in Point" and "Case Interview Secrets":

#### What DOESN'T Work (Avoid):
- **Memorizing 12-15 pre-made frameworks** (Case in Point approach)
  - Interviewers recognize memorized frameworks immediately
  - Cases rarely fit neatly into pre-made frameworks
  - Prevents critical thinking
  - Considered outdated (may have worked 10-20 years ago)

#### What DOES Work (Embrace):
- **Hypothesis-driven, adaptable thinking** (Victor Cheng approach)
  - Learn 2-4 basic frameworks, use 2 of them 80% of the time
  - Framework should follow from hypothesis, not vice versa
  - Focus on issue trees and MECE principle
  - Think critically, don't regurgitate

#### Market Sizing Specific Guidance:
- **Both books agree:** Market sizing sections are valuable
- **Case in Point's market sizing chapter** is "quite helpful" and "worth reading for all aspiring consultants"
- **Victor Cheng's market sizing approach** emphasizes step-by-step logic over memorization
- **Key principle:** Your approach to answering matters MORE than the exact answer

#### For Our AI Coach:
- **DON'T** penalize for not using specific named frameworks
- **DO** evaluate for logical structure, clear segmentation, MECE thinking
- **DON'T** reward recognition of memorized frameworks
- **DO** reward clear articulation of approach and reasoning
- **Focus on:** Does the structure make sense for THIS specific question?

---

### Updated Scoring Criteria (Research-Backed)

Based on actual MBB evaluation rubrics and consulting prep resources:

#### Scoring Scale: 1-5 (Not 1-10)
MBB firms use a **5-point scale**, not 10-point:
- 1 = Insufficient
- 2 = Adequate
- 3 = Good
- 4 = Very Good
- 5 = Outstanding/Excellent

#### Evaluation Dimensions (Simplified & Aligned):

**1. Structured Problem-Solving (Weight: 30%)**
- Did candidate clarify the question first?
- Was a clear framework articulated?
- Is the approach MECE?
- Was structure communicated within 1-2 minutes?

**2. Business Judgment & Assumptions (Weight: 25%)**
- Are assumptions realistic and reasonable?
- Are assumptions clearly stated and justified?
- Does candidate show commercial awareness?
- Quality over quantity of assumptions

**3. Quantitative Skills (Weight: 20%)**
- Math accuracy and speed
- Step-by-step calculation shown
- Calculations verbalized clearly
- Can handle numbers under pressure

**4. Communication (Weight: 15%)**
- Clear, organized explanations
- Guides interviewer through thinking
- Appropriate pace and tone
- Minimal fillers, no long silences

**5. Sanity Check (Weight: 10%)**
- Validates answer against reality
- Verbalizes sanity check reasoning
- Shows commercial awareness
- Catches unreasonable results

#### What NOT to Score:
- ‚ùå Whether they used a specific named framework
- ‚ùå Exact accuracy of final number
- ‚ùå Speed of completion (10 min is the target, not a race)
- ‚ùå Confidence scores (too subjective)
- ‚ùå "Answer Reasonableness" as separate category (covered in Sanity Check)

#### What TO Score:
- ‚úÖ Process quality over answer precision
- ‚úÖ Clear thinking articulated out loud
- ‚úÖ Logical structure and MECE segmentation
- ‚úÖ Realistic assumptions with justification
- ‚úÖ Step-by-step math shown and verbalized
- ‚úÖ Explicit sanity check performed

---

## System Component Responsibilities

### 1. Voice Agent (LiveKit Voice Agent)
**Location:** `/Users/mac/Documents/livekit-voice-agent`
**Tech Stack:** Python, LiveKit Agents SDK, OpenAI Realtime API

#### Current Responsibilities:
- Join LiveKit room as AI interviewer
- Conduct real-time voice conversation
- Ask generic behavioral questions
- Provide interviewer pressure/realism

#### New Responsibilities for Market Sizing (Research-Backed):
- **Ask market sizing questions** from predefined question bank
- **Force clarifying questions** - most students fail here, so agent should:
  - NOT volunteer all information upfront
  - Wait for candidate to ask about scope, geography, product specs, customer segments
  - Only provide details when asked
- **Listen for structured approach** (framework articulation within 1-2 minutes)
- **Probe strategically** based on common student weaknesses:
  - If silent during calculations: "Walk me through your math out loud"
  - If assumptions not justified: "Why do you think that's reasonable?"
  - If no framework stated: "What approach are you taking?"
  - If overly complex: "Can you simplify that?"
  - Before ending: "Does that answer make sense?" (force sanity check)
- **Track time** (5-minute limit per case, give warning at 1 min remaining)
- **Guide without giving answers** - use Socratic probing
- **End the interview** when candidate completes or time expires

#### Key Behaviors (Aligned with MBB Interviews):
- Maintain pressure and realism (already does this well)
- Don't praise or validate during interview (already configured)
- Interrupt if rambling without structure (already configured)
- **NEW:** Ensure candidate verbalizes thinking (critical for evaluation)
- Listen for market sizing-specific signals:
  - Clarifying questions asked (highest failure point for students)
  - Framework explicitly stated ("I'll use a top-down approach...")
  - Assumptions articulated AND justified ("Assuming 330M population, which is roughly the US census...")
  - Math verbalized step-by-step ("So 330 million times 2 equals 660 million...")
  - Sanity check performed out loud ("That's 660 million pizzas, or about 2 per person, which seems reasonable for NYC...")

---

### 2. Transcription Service
**Location:** `/Users/mac/Nestjs/transcription-service`
**Tech Stack:** Node.js, TypeScript, Deepgram STT, WebSocket

#### Current Responsibilities:
- Connect to LiveKit room as listener bot
- Stream audio to Deepgram for transcription
- Detect speech metrics (pace, fillers, pauses)
- Send live transcript to Flutter app via WebSocket
- Generate session summary at end
- POST summary to Backend

#### New Responsibilities (Minimal Changes):
- **No major changes needed** - continues doing what it does well
- Optionally: Add metadata field to session summary for `interviewType: 'market-sizing'`
- Optionally: Detect and flag numerical statements in transcript (e.g., "300 million", "2 per year")

#### Data Sent to Backend:
```typescript
{
  roomName: string,
  participantIdentity: string,
  interviewType: 'market-sizing', // NEW (optional)
  caseQuestion: string, // NEW - captured from agent's opening
  sessionData: {
    transcript: string,
    duration: number,
    totalWords: number,
    averagePace: number,
    paceTimeline: [...],
    fillers: [...],
    pauses: [...],
    words: [...],
    transcriptSegments: [...]
  }
}
```

**Note:** Most changes are in what the Backend does with this data, not in how it's collected.

---

### 3. Backend (NestJS - This Codebase)
**Location:** `/Users/mac/Nestjs/ai-interview-backend`
**Tech Stack:** NestJS, TypeScript, MongoDB, OpenAI GPT

#### Current Responsibilities:
- Generate LiveKit tokens
- Receive transcription summaries
- Analyze with OpenAI (generic interview feedback)
- Store interviews in MongoDB
- Return analysis results via API

#### New Responsibilities for Market Sizing:
- **Store market sizing case data** (question, difficulty, candidate answer)
- **Specialized AI analysis prompt** based on actual MBB evaluation criteria
- **Detect structured thinking** (framework articulation, MECE segmentation, clarifying questions)
- **Evaluate assumptions** (explicitly stated, justified, realistic)
- **Math accuracy checking** (step-by-step shown, verbalized, correct calculations)
- **Communication analysis** (uses existing transcription metrics: pace, fillers, clarity)
- **Sanity check detection** (explicit validation performed and verbalized)
- **Provide detailed case-specific feedback** with scores using MBB's 5-point scale:
  - Structured Problem-Solving (1-5, Weight: 30%)
  - Business Judgment & Assumptions (1-5, Weight: 25%)
  - Quantitative Skills (1-5, Weight: 20%)
  - Communication (1-5, Weight: 15%)
  - Sanity Check (1-5, Weight: 10%)
  - Overall Weighted Score (1-5)
  - Detailed feedback on what was done well and areas for improvement

#### New API Endpoints (Optional - Future):
- `GET /api/cases/market-sizing?difficulty=easy` - Get random question
- `GET /api/cases/:id/model-answer` - View expert solution

---

### 4. Mobile Frontend (Flutter App)
**Location:** `/Users/mac/AndroidStudioProjects/ai_interview_mvp`
**Tech Stack:** Flutter, Dart, Riverpod, LiveKit Client

#### Current Responsibilities:
- User authentication
- Connect to LiveKit room
- Display live transcript
- Show analysis results (generic)
- Audio playback with timestamps

#### New Responsibilities for Market Sizing:
- **Interview type selection screen**:
  - "Practice Market Sizing Case"
  - (Future: "Practice Profitability Case", "Practice Behavioral")
- **Display case question** prominently during interview
- **Show timer** (10:00 countdown)
- **Enhanced results screen** with market sizing specifics:
  - Overall score with breakdown
  - Framework used (visual indicator)
  - Assumptions quality score
  - Math accuracy score
  - Expert answer range comparison
  - Specific improvement areas
- **Visual framework guide** (optional):
  - Quick reference for top-down vs bottom-up
  - Framework templates (can view before/after interview)

#### UI Changes:
- **Pre-Interview Screen:**
  ```
  Market Sizing Case Practice

  Difficulty: [Easy] [Medium] [Hard]

  Tips:
  ‚Ä¢ Clarify the question first
  ‚Ä¢ State your approach clearly
  ‚Ä¢ Show your math step-by-step
  ‚Ä¢ Sanity check your answer

  [Start Interview]
  ```

- **During Interview:**
  ```
  üé§ Live Interview

  Case: "How many pizzas are consumed in NYC per year?"

  Time: 04:12

  [Live transcript scrolling...]

  [End Interview]
  ```

- **Results Screen:**
  ```
  Market Sizing Case Performance

  Overall Score: 3.4/5.0 (Good)

  üìä Detailed Evaluation (MBB Criteria):

  Structured Problem-Solving: 4/5 (Very Good) - 30% weight
  ‚îú‚îÄ Clear top-down framework articulated
  ‚îú‚îÄ MECE segmentation applied
  ‚îî‚îÄ Could improve: Ask more clarifying questions upfront

  Business Judgment & Assumptions: 3/5 (Good) - 25% weight
  ‚îú‚îÄ Assumptions were reasonable
  ‚îú‚îÄ Most assumptions justified
  ‚îî‚îÄ Could improve: Articulate WHY each assumption is reasonable

  Quantitative Skills: 3/5 (Good) - 20% weight
  ‚îú‚îÄ Math was mostly accurate
  ‚îú‚îÄ Showed some intermediate steps
  ‚îî‚îÄ Could improve: Verbalize ALL calculations out loud

  Communication: 4/5 (Very Good) - 15% weight
  ‚îú‚îÄ Clear explanations (Pace: 142 WPM)
  ‚îú‚îÄ Low filler words (8 total)
  ‚îî‚îÄ Good structure throughout

  Sanity Check: 2/5 (Adequate) - 10% weight
  ‚îú‚îÄ Performed basic reality check
  ‚îî‚îÄ Could improve: Verbalize sanity check reasoning explicitly

  üéØ Priority Improvements:
  1. [00:45] Ask clarifying questions before structuring
  2. [05:12] Verbalize every calculation step-by-step
  3. [08:45] Explicitly state sanity check logic out loud
  4. [02:34] Justify WHY each assumption is reasonable

  ‚ú® What You Did Well:
  ‚Ä¢ Clear framework articulation at start
  ‚Ä¢ MECE segmentation (no overlaps)
  ‚Ä¢ Strong communication flow
  ‚Ä¢ Logical progression through analysis

  [View Transcript] [Practice Again] [View Expert Approach]
  ```

---

## Master Implementation Plan

### Phase 1: Backend Foundation (Week 1)
**Location:** `/Users/mac/Nestjs/ai-interview-backend`

#### Tasks:
1. **Update Database Schema**
   - [ ] Add market sizing fields to [Interview schema](src/schemas/interview.schema.ts)
   - [ ] Add `interviewType`, `caseQuestion`, `difficulty`
   - [ ] Add `caseAnalysis` subdocument with framework, assumptions, math scores
   - [ ] Run migration (MongoDB is schemaless, but update TypeScript types)

2. **Create Market Sizing Question Bank**
   - [ ] Create new schema: [CaseQuestion](src/schemas/case-question.schema.ts)
   - [ ] Create question seed data (10 questions: 3 easy, 4 medium, 3 hard)
   - [ ] Create CRUD service for questions

3. **Build Specialized AI Analysis (Research-Backed)**
   - [ ] Update [AIService](src/ai/ai.service.ts) with MBB-aligned evaluation prompt
   - [ ] Implement 5-point scoring scale (1=Insufficient, 2=Adequate, 3=Good, 4=Very Good, 5=Outstanding)
   - [ ] Detect structured thinking (framework articulation, MECE, clarifying questions)
   - [ ] Evaluate assumptions (explicitly stated, justified, realistic)
   - [ ] Assess quantitative skills (step-by-step shown, verbalized, accurate)
   - [ ] Analyze communication (use existing metrics: pace, fillers, clarity)
   - [ ] Detect sanity check (explicit validation verbalized)
   - [ ] Generate actionable feedback based on actual student weaknesses
   - [ ] Return weighted overall score and dimension-specific scores

4. **Update Interview Processing**
   - [ ] Modify [InterviewsService](src/interviews/interviews.service.ts) to handle `interviewType`
   - [ ] Store case question with interview
   - [ ] Pass interview type to AI analysis

5. **Add API Endpoints (Optional)**
   - [ ] `GET /api/cases/market-sizing?difficulty=easy` - Random question
   - [ ] Update `GET /api/interviews/:id` response to include case analysis

#### Acceptance Criteria:
- Backend can receive and store market sizing interviews
- AI analysis produces case-specific feedback
- API returns detailed framework/math/assumption scores

---

### Phase 2: Voice Agent Specialization (Week 1-2)
**Location:** `/Users/mac/Documents/livekit-voice-agent`

#### Tasks:
1. **Update Agent Instructions**
   - [ ] Modify [instructions.txt](instructions.txt) with market sizing focus
   - [ ] Add market sizing question bank (10 questions)
   - [ ] Define market sizing interview flow
   - [ ] Add probing questions for structure/assumptions/math
   - [ ] Keep existing pressure/realism behaviors

2. **Question Selection Logic**
   - [ ] Add difficulty parameter to agent initialization
   - [ ] Randomly select question from appropriate difficulty tier
   - [ ] State question clearly at start

3. **Enhanced Probing**
   - [ ] Listen for framework articulation
   - [ ] Probe for assumptions if not stated
   - [ ] Ask for math walkthrough if skipped
   - [ ] Prompt for sanity check before ending

4. **Time Management**
   - [ ] Track 5-minute limit
   - [ ] Give time warnings ("2 minutes left")
   - [ ] Hard stop at 5 minutes

#### Acceptance Criteria:
- Agent asks market sizing questions
- Agent probes for structure and assumptions
- Agent maintains realistic interviewer pressure
- Sessions limited to 5 minutes

---

### Phase 3: Transcription Service Updates (Week 2)
**Location:** `/Users/mac/Nestjs/transcription-service`

#### Tasks:
1. **Add Interview Metadata**
   - [ ] Capture `interviewType` from session context
   - [ ] Extract case question from opening transcript
   - [ ] Include in POST to backend

2. **Optional Enhancements**
   - [ ] Detect numerical statements in transcript
   - [ ] Flag framework keywords ("top-down", "bottom-up", "segment")
   - [ ] Timestamp mathematical calculations

#### Acceptance Criteria:
- Session summary includes interview type and case question
- No breaking changes to existing flow

---

### Phase 4: Mobile Frontend Updates (Week 2-3)
**Location:** `/Users/mac/AndroidStudioProjects/ai_interview_mvp`

#### Tasks:
1. **Interview Type Selection**
   - [ ] Create interview type selection screen
   - [ ] Add "Market Sizing Case" option (default for now)
   - [ ] Store selection in session context

2. **Pre-Interview Screen**
   - [ ] Display market sizing tips
   - [ ] Show difficulty selection (easy/medium/hard)
   - [ ] Brief on evaluation criteria

3. **During Interview UI**
   - [ ] Display case question prominently
   - [ ] Show countdown timer (10:00)
   - [ ] Keep live transcript (optional toggle)

4. **Results Screen Redesign**
   - [ ] Create case analysis section
   - [ ] Display framework used
   - [ ] Show assumption/math/structure scores separately
   - [ ] Visual score breakdown (radar chart or bars)
   - [ ] Link improvements to transcript timestamps

5. **Framework Guide (Optional)**
   - [ ] Add "Market Sizing Guide" screen
   - [ ] Top-down vs bottom-up explanation
   - [ ] Example walkthrough
   - [ ] Accessible before/after interview

#### Acceptance Criteria:
- Users can select market sizing interview type
- Case question and timer displayed during interview
- Results show detailed case analysis breakdown
- Timestamps link to transcript

---

### Phase 5: Testing & Refinement (Week 3)

#### Tasks:
1. **End-to-End Testing**
   - [ ] Complete 10 test interviews across all difficulty levels
   - [ ] Verify AI analysis accuracy
   - [ ] Test edge cases (no framework, wrong math, etc.)

2. **AI Prompt Tuning**
   - [ ] Review AI analysis for accuracy
   - [ ] Adjust prompts based on false positives/negatives
   - [ ] Ensure framework detection works reliably

3. **UX Polish**
   - [ ] Smooth transitions between screens
   - [ ] Loading states for analysis
   - [ ] Error handling (agent disconnect, etc.)

4. **Question Bank Expansion (Optional)**
   - [ ] Add 10 more questions (total: 20)
   - [ ] Cover diverse industries (retail, tech, healthcare)
   - [ ] Include model answer ranges

#### Acceptance Criteria:
- 90%+ accuracy in framework detection
- Realistic score distributions (not all 8-9/10)
- Smooth user experience from start to finish

---

### Phase 6: Advanced Features (Week 4+)

#### Tasks:
1. **Extract Best Practices from Books**
   - [ ] Read Case-in-Point-2013.pdf
   - [ ] Read Case Interview Secrets PDF.pdf
   - [ ] Extract market sizing frameworks
   - [ ] Update AI prompt with book-specific criteria
   - [ ] Add framework templates to mobile app

2. **Dynamic Question Bank**
   - [ ] Build admin panel for adding questions
   - [ ] API endpoint for fetching questions
   - [ ] Voice agent calls backend for question (instead of hardcoded)

3. **Model Answer System**
   - [ ] Store expert solutions for each question
   - [ ] Show after interview completion
   - [ ] Compare candidate approach vs expert

4. **Progress Tracking**
   - [ ] Track score improvement over time
   - [ ] Show weak areas across multiple interviews
   - [ ] Personalized practice recommendations

---

## Data Flow Changes

### Before (Generic Interview):
```
1. User starts interview ‚Üí Voice Agent asks behavioral questions
2. Transcription Service captures speech + metrics
3. Backend analyzes delivery (pace, fillers, confidence)
4. Mobile displays generic feedback
```

### After (Market Sizing Case):
```
1. User selects "Market Sizing Case" + difficulty
2. Voice Agent asks specific market sizing question
3. Voice Agent probes for structure/assumptions/math
4. Transcription Service captures everything + timestamps
5. Backend receives transcript + case question
6. Backend AI analyzes:
   - Framework used (top-down/bottom-up/hybrid/none)
   - Assumption quality (reasonable? clearly stated?)
   - Math accuracy (correct calculations? shown step-by-step?)
   - Sanity check (validated answer?)
   - Communication (pace, fillers, confidence)
7. Mobile displays case-specific analysis:
   - Case performance scores
   - Framework breakdown
   - Improvement areas with timestamps
   - Expert answer range comparison
```

---

## Question Bank Strategy

### Initial Question Bank (10 Questions)

#### Easy (3 questions):
1. "How many smartphones are sold in the United States per year?"
   - Model answer: 150-200 million
2. "How many gas stations are there in Los Angeles?"
   - Model answer: 2,000-3,000
3. "How many pizzas are consumed in New York City annually?"
   - Model answer: 300-400 million

#### Medium (4 questions):
1. "What is the annual revenue of Starbucks stores in Chicago?"
   - Model answer: $300-400 million
2. "How many diapers are used in the US per day?"
   - Model answer: 50-70 million
3. "What's the market size for electric vehicle charging stations in California?"
   - Model answer: $200-300 million
4. "How many wedding cakes are sold in the US each year?"
   - Model answer: 2-2.5 million

#### Hard (3 questions):
1. "Estimate the global market for subscription-based meal kits in 2025"
   - Model answer: $15-20 billion
2. "What's the annual revenue potential for autonomous taxi services in San Francisco by 2030?"
   - Model answer: $500M-1B
3. "How many AI engineers will the tech industry need in the US by 2028?"
   - Model answer: 150,000-250,000

### Question Storage

**Option 1: Hardcoded in Voice Agent (Phase 1-2)**
- Store in [instructions.txt](vscode-file:///Users/mac/Documents/livekit-voice-agent/instructions.txt)
- Simple array of questions by difficulty
- Agent randomly selects

**Option 2: Database-Driven (Phase 6)**
- Store in MongoDB (`CaseQuestion` collection)
- Backend API: `GET /api/cases/market-sizing?difficulty=medium`
- Voice Agent fetches at session start
- Allows dynamic addition without redeploying agent

**Recommendation:** Start with Option 1 (hardcoded) for speed, migrate to Option 2 after validation.

---

## Success Metrics

### Product Metrics:
- **User completes interview:** 80%+ completion rate
- **Repeat usage:** 50%+ of users do 3+ interviews
- **Time to feedback:** < 30 seconds after interview ends
- **Accuracy:** 90%+ framework detection accuracy

### Interview Quality Metrics:
- **Average score distribution:** Bell curve around 6-7/10 (not clustered at 9-10)
- **Framework usage:** 70%+ use identifiable framework
- **Math accuracy:** 60%+ show correct calculations
- **Sanity check:** 50%+ perform answer validation

### Technical Metrics:
- **Latency:** Voice agent responds within 1 second
- **Transcription accuracy:** 95%+ word accuracy (Deepgram)
- **Analysis processing:** < 20 seconds
- **Uptime:** 99%+ for all services

---

## Risk Mitigation

### Risk 1: AI Analysis Inaccuracy
- **Mitigation:** Extensive testing with known good/bad answers
- **Fallback:** Manual review of first 50 interviews to tune prompts

### Risk 2: Voice Agent Too Generic
- **Mitigation:** Detailed instructions.txt with market sizing focus
- **Fallback:** Iterative refinement based on user feedback

### Risk 3: Question Bank Too Small
- **Mitigation:** Start with 10, expand to 20+ in Phase 6
- **Fallback:** Extract questions from case books

### Risk 4: Users Don't Understand Framework Approach
- **Mitigation:** Add framework guide in mobile app
- **Fallback:** Pre-interview tutorial video

---

## Next Steps After Approval

1. You review and approve this plan
2. You decide which phase to start with (recommend: Phase 1 - Backend)
3. I implement the changes in order
4. You test each phase
5. We iterate based on feedback

**Estimated Total Time:** 3-4 weeks for Phases 1-5 (MVP), +1-2 weeks for Phase 6 (advanced features)

---

## File Locations Reference

- **Backend:** `/Users/mac/Nestjs/ai-interview-backend`
- **Transcription Service:** `/Users/mac/Nestjs/transcription-service`
- **Voice Agent:** `/Users/mac/Documents/livekit-voice-agent`
- **Mobile Frontend:** `/Users/mac/AndroidStudioProjects/ai_interview_mvp`

---

## Research Sources

This plan has been updated based on extensive research into actual MBB evaluation criteria and consulting interview best practices. Key sources include:

### MBB Evaluation Criteria & Scoring
- [Case Interview Checklist & Rubric: Prep and Scoring Guide](https://www.casebasix.com/pages/case-interview-checklist-rubric-preparation)
- [Case Interview Scoring System Explained](https://www.casebasix.com/pages/case-interview-scoring-system)
- [Case Interview Scoring System | Insider Perspectives](https://managementconsulted.com/insiders-look-case-scoring-system/)
- [Case Interview Feedback Sheet](https://strategycase.com/case-interview-feedback-sheet/)
- [Bain vs. BCG vs. McKinsey Interview Guide 2025](https://www.senseicopilot.com/blog/bain-vs-bcg-vs-mckinsey-interview-differences-explained)

### Market Sizing Frameworks & Evaluation
- [Market Sizing: The Ultimate Guide](https://igotanoffer.com/blogs/mckinsey-case-interview-blog/market-sizing)
- [Market Sizing Questions - Breaking Down Case Interview Frameworks](https://managementconsulted.com/case-interview-frameworks-market-sizing/)
- [Master Market Sizing Questions in Consulting Interviews](https://strategycase.com/market-sizing-case-interviews/)
- [Market Sizing: Step-By-Step Guide with Examples (2025)](https://www.hackingthecaseinterview.com/pages/market-sizing)
- [21 market sizing questions with answers (McKinsey, BCG, etc.)](https://igotanoffer.com/blogs/mckinsey-case-interview-blog/market-sizing-questions)

### Student Challenges & Practice Needs
- [28. 9 Common market sizing mistakes and how to avoid them - The Case Interview Podcast](https://www.buzzsprout.com/1194296/episodes/11311961-28-9-common-market-sizing-mistakes-and-how-to-avoid-them)
- [Market sizing case interviews: 7 steps to nail them](https://casecoach.com/b/market-sizing-case-interview/)
- [MBB Case Interview: Comprehensive Guide](https://www.hackingthecaseinterview.com/pages/mbb-case-interview)
- [Market Sizing - How to practice?](https://www.preplounge.com/en/consulting-forum/market-sizing-how-to-practice-15235)

### Book Reviews & Framework Philosophy
- [Case in Point: A Comprehensive Book Review](https://www.hackingthecaseinterview.com/pages/case-in-point-book-review)
- [Case In Point: Book Review](https://managementconsulted.com/case-in-point-book-review/)
- [Case Interview Secrets: A Comprehensive Book Review](https://www.hackingthecaseinterview.com/pages/case-interview-secrets-book-review)
- [Business Book Review: Case Interview Secrets](https://managementconsulted.com/case-interview-secrets/)
- [Case Interview Secrets Book Summary](https://youexec.com/book-summaries/case-interview-secrets)
- [Case in point vs Case interview secrets comparison](https://www.preplounge.com/consulting-forum/case-in-point-vs-case-interview-secretsvictor-cheng-6002)
- [case in point framework vs victor cheng's frameworks](https://www.wallstreetoasis.com/forum/consulting/case-in-point-framework-vs-victor-chengs-frameworks)

### Key Insights Applied:
1. **Changed scoring from 1-10 to 1-5** to match actual MBB evaluation rubrics
2. **Reduced evaluation dimensions from 6 to 5** based on real consulting firm criteria
3. **Added weighted scoring** (30% structure, 25% assumptions, 20% quant, 15% communication, 10% sanity check)
4. **Emphasis on process over answer precision** - firms care more about HOW you think
5. **Focus on verbalization** - students must articulate thinking out loud (common failure point)
6. **Clarifying questions are critical** - most candidates fail during clarification phase
7. **Avoid rewarding memorized frameworks** - focus on logical, adaptable thinking
8. **Practice volume matters** - successful candidates do 50+ live practice cases

---

**Ready for your review and edits!**
